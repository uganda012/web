var currentTab=0;if(document.getElementsByClassName("tab").length){showTab(currentTab)}
function showTab(n){var x=document.getElementsByClassName("tab");x[n].style.display="block";if(n==0){}else{}
if(n==x.length-1){}else{}
fixStepIndicator(n)}
function nextPrev(n){var x=document.getElementsByClassName("tab");if(n==1&&!validateForm())return!1;x[currentTab].style.display="none";currentTab=currentTab+n;if(currentTab>=x.length){document.getElementById("regForm").submit();return!1}
showTab(currentTab);if(jQuery(".step.active").find(".btn-back").length){jQuery(".header-btn-back").addClass("active")}else{jQuery(".header-btn-back").removeClass("active")}}
function validateForm(){var x,y,i,valid=!0;return valid}
function fixStepIndicator(n){var i,x=document.getElementsByClassName("step");for(i=0;i<x.length;i++){x[i].className=x[i].className.replace(" active","")}
x[n].className+=" active"}
function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}
let curr_url=new URL(window.location.href);var utm_source=curr_url.search;var urlPMS=curr_url.searchParams.get("pms");console.log(urlPMS);if(urlPMS=="Hostify"){urlPMS="Hostify_2"}
if(urlPMS=="Hostaway"){urlPMS="Hostaway_2"}
if(urlPMS=="Octorate"){urlPMS="Octorate_2"}
if(urlPMS=="365Villas"){urlPMS="365Villas_2"}
if(urlPMS=="Rentals United"){urlPMS="Rentals United_2"}
if(urlPMS=="Eviivo"){urlPMS="Eviivo_2"}
if(urlPMS=="Hostfully"){urlPMS="Hostfully_2"}
function changeUrl(title,url){var url=register_page_url+url;if(utm_source!=""){url+=utm_source}
if(typeof history.pushState!="undefined"){var obj={Title:title,Url:url};history.pushState(obj,obj.Title,obj.Url)}else{console.log("Browser does not support HTML5.")}
var path=url.replace(window.location.origin,"");var _hsq=(window._hsq=window._hsq||[]);if(_hsq.length){_hsq.push(["setPath",path]);_hsq.push(["trackPageView"]);hj("stateChange",path)}else{}}
window.onpopstate=function(e){console.log(e.state.Url);var pageIndex=jQuery(".erf-form-nav").attr("current-page-index");console.log(pageIndex);jQuery(".header-btn-back").trigger("click");jQuery(".your-pms").trigger("change")};var dashboard_URL="https://dashboard.chekin.com/?user=";isOauth=0;var isIframeDataUrl=0;function fixYoutubeVideo(){var iframe=jQuery('.pms-content .video iframe');if(iframe.length){var iframeURL=iframe.attr('data-src');if(iframeURL){iframe.attr('src',iframeURL);isIframeDataUrl=1}}}
jQuery(document).on('mousemove touchstart',function(){});jQuery(document).ready(function(){var TITLE=document.title;jQuery(".erf-form").prepend('<input type="hidden" name="lang" value="'+jQuery("html").attr("lang")+'" >');let urlCurrent=window.location.href;let urlObj=new URL(urlCurrent);let uccParam=urlObj.searchParams.get("ucc");jQuery(".erf-form").prepend('<input type="hidden" name="cello_id" value="'+uccParam+'" >');jQuery('[name="queryString"]').val(window.location.search);function urlPMS_UpdateField(){jQuery(".your-pms").val(urlPMS).trigger("change");jQuery(".your-pms").closest(".form-group").addClass("form-group-your-pms")}
if(urlPMS){jQuery("body").addClass("has-urlpms urlpms-"+urlPMS.toLowerCase());jQuery(".erf-form").prepend('<input type="hidden" name="urlpms" value="'+urlPMS+'">');jQuery("#popup-welcome").addClass("active");urlPMS_UpdateField()}
jQuery(".popup .close").on("click",function(e){e.preventDefault();jQuery(this).closest(".popup").removeClass("active");fixYoutubeVideo()});jQuery(".popup-welcome .button").on("click",function(e){e.preventDefault();jQuery("#popup-welcome").removeClass("active");jQuery('.erf-reg-form-container [type="email"]').focus();fixYoutubeVideo()});setTimeout(function(){if(jQuery(".erf-form .erf-password .pass-eye").length==0){jQuery(".erf-form .erf-password").append('<a href="javascript:void(0)" class="pass-eye">Show Password</a>')}
if(jQuery("#erf_password").next(".pass-eye").length==0){jQuery("#erf_password").after('<a href="javascript:void(0)" class="pass-eye">Show Password</a>')}
jQuery("#erf_password").closest(".form-group").addClass("erf-password ");jQuery("body").on("click",".erf-form .pass-eye",function(){jQuery(this).toggleClass("active");var inputType=jQuery(this).closest(".erf-password").find("input");if(inputType.attr("type")=="password"){inputType.attr("type","text")}else{inputType.attr("type","password")}});if(url.searchParams.get("code")){}else{var pathName=window.location.pathname;if(pathName=="/onboarding/"||pathName=="/onboarding/es/"||pathName=="/onboarding/it/"||pathName=="/onboarding/ca/"||pathName=="/onboarding/en/"||pathName=="/onboarding/pt/"||pathName=="/onboarding/fr/"){changeUrl(TITLE,"register-form/")}
jQuery(".erf-container").fadeIn();jQuery('[name="lang"]').val(jQuery("html").attr("lang"));jQuery(".steps li").eq(0).addClass("current");jQuery(".steps li").eq(0).removeClass("active");jQuery(".steps li").eq(1).removeClass("current active");jQuery(".sec-contents-sm").addClass("active");jQuery(".erf-reg-form-container input[type=number]").after('<span class="plus"></span><span class="miinus"></span>');if(urlPMS){urlPMS_UpdateField()}}},10);jQuery('input[name="field-c2xENTMAvcqpurK"]').on("change",function(){if(jQuery(this).val().length){jQuery(".intl-tel-input").addClass("is-valid")}else{jQuery(".intl-tel-input").removeClass("is-valid")}});function multiField(){var counter=0;jQuery(".multi-field-wrapper, .customSyncForm .multi-field-wrapper").each(function(){var $wrapper=jQuery(".multi-fields",this);jQuery(".add-field",$(this)).click(function(e){counter++;jQuery(".multi-field:first-child",$wrapper).clone(!0).appendTo($wrapper).find("input").val("").focus()});jQuery(".multi-field .remove-field",$wrapper).click(function(){if(jQuery(".multi-field",$wrapper).length>1)
jQuery(this).parent(".multi-field").remove();counter--})})}
multiField();jQuery('body').on('change','.form-noray_cloud_on_premise [name="pms_account_type"]',function(){var auth_type=jQuery(this).val();if(auth_type=='Noray_Cloud'||auth_type=='SAAS'){jQuery('.noray_cloud').removeClass('d-none');jQuery('.on_promise').addClass('d-none')}else if(auth_type=='ON_PREMISE'){jQuery('.noray_cloud').addClass('d-none');jQuery('.on_promise').removeClass('d-none')}else{jQuery('.noray_cloud').addClass('d-none');jQuery('.on_promise').addClass('d-none')}});jQuery(".erf-reg-form-container .erf-form, .erf-reg-form-container .erf-form .form-control").on("change",function(){var fromData=jQuery(".erf-reg-form-container .erf-form.erf-front-form").serializeArray();localStorage.setItem("formData",JSON.stringify(fromData));sessionStorage.setItem("formData",JSON.stringify(fromData));localStorage.removeItem("token");sessionStorage.removeItem("token")});jQuery(".your-room-number-input").on("keyup change blur",function(){var yourRoomNumber=jQuery(".your-room-number-input").val();localStorage.setItem("yourRoomNumber",yourRoomNumber);sessionStorage.setItem("yourRoomNumber",yourRoomNumber);jQuery(".erf-reg-form-container .erf-form").trigger("change");if(jQuery(this).val()<=20){jQuery(".erf-form .form-control[type=tel].phone").attr("required","required");jQuery(".erf-form .form-control[type=tel].phone").closest(".form-group").find(".tooltip-element").before('<span class="erf-required">*</span>')}else{jQuery(".erf-form .form-control[type=tel].phone").removeAttr("required");jQuery(".erf-form .form-control[type=tel].phone").closest(".form-group").find(".erf-required").remove()}});jQuery(".erf-reg-form-container input.name").on("keyup change",function(e){jQuery('.hbspt-form input[name="firstname"]').val(jQuery(this).val()).trigger("change")});jQuery(".erf-reg-form-container input[name='text-gE8dLd']").on("keyup change",function(e){jQuery('.hbspt-form input[name="email"]').val(jQuery(this).val()).trigger("change")});jQuery(".erf-reg-form-container input[name='text-1hJwzr']").on("keyup change",function(e){});jQuery(".erf-reg-form-container input.phone").on("keyup change",function(e){jQuery('.hbspt-form input[name="phone"]').val(jQuery(".intl-tel-input.separate-dial-code .selected-dial-code").text()+jQuery(this).val()).trigger("change")});jQuery(".erf-reg-form-container .your-reference").on("change",function(e){jQuery('.hbspt-form [name="como_nos_conociste_"]').val(jQuery(this).val()).trigger("change")});jQuery('.erf-reg-form-container .radio input[type="radio"]').on("change blur",function(e){var val=jQuery('.radio input[type="radio"]:checked').val();jQuery('.hbspt-form input[name="using_pms"]').prop("checked",!1);if(val=="yes"){jQuery('.hbspt-form input[name="using_pms"][value="Yes"]').prop("checked",!0);jQuery('.hbspt-form input[name="would_you_like_a_free_bookiply_account_"][value="Have PMS"]').prop("checked",!0)}else{jQuery('.hbspt-form input[name="using_pms"][value="No"]').prop("checked",!0);jQuery('[name="pms_actualizado"]').val("");jQuery('.hbspt-form input[name="would_you_like_a_free_bookiply_account_"][value="Have PMS"]').prop("checked",!1)}});jQuery(".erf-reg-form-container .your-pms").on("change",function(e){var val=jQuery(".erf-reg-form-container .your-pms").val();jQuery('[name="pms_actualizado"]').val(val)});jQuery(".erf-reg-form-container .your-property-type").on("change",function(e){var hbVal="Other";var val=jQuery(this).val();if(val=="HOU"){hbVal="VACATION RENTAL"}else if(val=="HOT"){hbVal="HOTEL/CAMPING"}
jQuery('.hbspt-form [name="property_type"]').val(hbVal).trigger("change")});jQuery(".erf-reg-form-container .your-room-number-input").on("keyup change",function(e){jQuery('.hbspt-form input[name="number_of_units"]').val(jQuery(this).val()).trigger("change")});jQuery(".bookiply-account-form input[type=radio]").on("change",function(e){var val=jQuery(".bookiply-account-form input[type=radio]:checked").val();jQuery('.hbspt-form input[name="would_you_like_a_free_bookiply_account_"]').prop("checked",!1);if(val=="Yes"){jQuery('.hbspt-form input[name="would_you_like_a_free_bookiply_account_"][value="Yes"]').prop("checked",!0)}else{jQuery('.hbspt-form input[name="would_you_like_a_free_bookiply_account_"][value="No"]').prop("checked",!0)}
jQuery('[name="bookiplyAccount"]').val(val);jQuery('[name="queryString"]').val(window.location.search)});jQuery("#your-pms").on("change",function(){var yourPms=jQuery(this).val();if(yourPms=="Other PMS"){jQuery("#other-pms").removeClass("d-none")}else{jQuery("#other-pms").addClass("d-none")}});jQuery(".get-api-focus").on("click",function(e){jQuery(".get-api").addClass("active");jQuery("body").addClass("get-api-active")});jQuery(".get-api .get-api-close").on("click",function(e){e.preventDefault();jQuery(".get-api").removeClass("active");jQuery("body").removeClass("get-api-active")});jQuery("body").on("click",".go-to-pms-selection",function(e){e.preventDefault(0);jQuery(this).closest("form").find(".erf-nav-prev").trigger("click");jQuery(".your-pms").select2("open");jQuery(".pms-content").remove();jQuery(".has-cta").removeClass("active");jQuery(".header-btn-back").removeClass("active")});jQuery("input.your-other-pms").closest(".form-group").addClass("screen-reader-text form-group-other-pms");jQuery(".pms-switch").on("change",function(){var switchVal=jQuery(this).val();console.log(switchVal);if(switchVal=="yes"){jQuery(".your-pms").closest(".form-group").addClass("show");jQuery('.your-pms, [name="pmsSelected"]').val("").trigger("change")}else{jQuery('.your-pms, [name="pmsSelected"]').val("Chekin").trigger("change");jQuery(".your-pms").closest(".form-group").removeClass("show")}});jQuery(".your-pms").closest(".form-group").addClass("your-pms-group");if(jQuery(".pms-switch:checked").val()=="yes"){jQuery(".your-pms").closest(".form-group").addClass("show")}
var yourPMS_selected=jQuery(".your-pms").val();jQuery(".your-pms").on("change",function(){yourPMS_selected=jQuery(this).val();jQuery('input[name="pmsSelected"]').val(yourPMS_selected);if(yourPMS_selected=="Others PMS"){jQuery("input.your-other-pms").closest(".form-group").removeClass("screen-reader-text")}else{jQuery("input.your-other-pms").closest(".form-group").addClass("screen-reader-text")}
if(yourPMS_selected=="Apaleo"||yourPMS_selected=="Booking"||yourPMS_selected=="Booking_2"||yourPMS_selected=="BookingSync"||yourPMS_selected=="BookingSync_2"||yourPMS_selected=="Cloudbeds"||yourPMS_selected=="TESTING"||yourPMS_selected=="Myvr"||yourPMS_selected=="Octorate"||yourPMS_selected=="Octorate_2"||yourPMS_selected=="Ownerrez"||yourPMS_selected=="Smoobu"||yourPMS_selected=="Planyo"||yourPMS_selected=="Hostfully_2"){jQuery("body").addClass("is-oauth-pms")}else{jQuery("body").removeClass("is-oauth-pms")}
console.log(yourPMS_selected);if(yourPMS_selected=="Smoobu"){jQuery("#free-trial").hide()}else{jQuery("#free-trial").show()}});var customSyncForm=chekinforms[yourPMS_selected];if(urlPMS){jQuery('.pms-switch[value="yes"]').prop("checked",!0);var pmsContent="";var pmsContent="<p class='pms-title'>"+chekinforms.PMS_TITLE+"</p>";var pmsName='';if(customSyncForm.pmsName){pmsContent+="<h1 class='pms-name'><strong>"+customSyncForm.pmsName+"</strong></h1>";pmsName=customSyncForm.pmsName}
if(customSyncForm.contentTitle&&customSyncForm.contentVideo){pmsContent+="<h2>"+customSyncForm.contentTitle+"</h2>"}
if(customSyncForm.contentVideo){pmsContent+='<div class="video embed-responsive embed-responsive-16by9">'+customSyncForm.contentVideo+"</div>"}
if(customSyncForm.logo){jQuery(".has-form.v1 .erf-style-rounded-corner .erf-form-html").prepend('<h2 class="has-text-align-center current-urlpms-cont"><img src="'+customSyncForm.logo+'" class="pms-logo" alt="'+pmsName+'" > <span class="d-inline-block sync_texttop">Create account in Chekin</span></h2>');pmsContent+='<img src="'+customSyncForm.logo+'" class="pms-logo" alt="'+pmsName+'" >'}
if(customSyncForm.content){pmsContent+=customSyncForm.content}
if(customSyncForm.benefitsTitle){pmsContent+="<h2 class='benefits-title'>"+customSyncForm.benefitsTitle+"</h2>"}
if(customSyncForm.benefits){var benefits='';customSyncForm.benefits.forEach(element=>{benefits+='<li>'+element+'</li>'});pmsContent+='<ul class="benefits">'+benefits+'</ul>'}
if(pmsContent){jQuery(".pms-content").remove();jQuery(".sec-contents .contents .wp-block-group__inner-container").prepend('<div class="pms-content"><button type="button" class="button btn-link header-btn-back active">Atrás</button>'+pmsContent+"</div>");jQuery(".has-cta").addClass("active")}else{jQuery(".pms-content").remove();jQuery(".has-cta").removeClass("active")}}
var yourPropertyType_selected="HOT";jQuery("body").addClass("has-hot");jQuery(".your-property-type").on("change",function(){yourPropertyType_selected=jQuery(this).val();if(yourPropertyType_selected.toLowerCase()=="hot"){jQuery("body").addClass("has-hot");jQuery("body").removeClass("has-hou");jQuery(".your-room-number-input").prev("label").html(roomNumberSelectedText)}else{jQuery("body").removeClass("has-hot");jQuery("body").addClass("has-hou");jQuery(".your-room-number-input").prev("label").html(propertiesNumberSelectedText)}
jQuery(".your-room-number").select2("destroy").val("").removeClass("is-valid").select2({searchInputPlaceholder:searchText,dropdownCssClass:"dropdown-search-no",dropdownPosition:"below",});console.log(yourPropertyType_selected)});var roomNumber_Selected=jQuery(".your-room-number-input").val();jQuery(".your-room-number-input").on("change",function(){roomNumber_Selected=jQuery(this).val();jQuery('input[name="roomNumberSelected"]').val(roomNumber_Selected)});jQuery("body").on("click",".intl-tel-input.allow-dropdown.separate-dial-code",function(){jQuery(".erf-form .countrySearch").remove()});jQuery("#country-listbox li.countrySearch").on("click",function(e){});jQuery("body").on("keyup","#countryCodeSearch",function(e){var value=jQuery(this).val().toLowerCase();jQuery("#country-listbox > li").filter(function(){jQuery(this).toggle(jQuery(this).text().toLowerCase().indexOf(value)>-1)})});jQuery("body").on("click",".erf-reg-form-container .erf-number .plus",function(){var input=jQuery(this).closest("div").find("input"),inputValue=Number(input.val())+1;input.val(inputValue);input.trigger("change").focus()});var increaseVal;jQuery("body").on("mousedown",".erf-reg-form-container .erf-number .plus",function(){var input=jQuery(this).closest("div").find("input");increaseVal=setInterval(function(){inputValue=Number(input.val())+1;input.val(inputValue).focus()},300)});jQuery("body").on("mouseup",".erf-reg-form-container .erf-number .plus",function(){var input=jQuery(this).closest("div").find("input");input.trigger("change").focus();clearInterval(increaseVal)});jQuery("body").on("click",".erf-reg-form-container .erf-number .miinus",function(){var input=$(this).closest("div").find("input"),min=input.attr("min"),inputValue=isNaN(input.val())||Number(input.val())<=min?min:Number(input.val())-1;input.val(inputValue);input.trigger("change").focus()});var decreaseVal;jQuery("body").on("mousedown",".erf-reg-form-container .erf-number .miinus",function(){var input=$(this).closest("div").find("input");min=input.attr("min");decreaseVal=setInterval(function(){inputValue=isNaN(input.val())||Number(input.val())<=min?min:Number(input.val())-1;input.val(inputValue)},300)});jQuery("body").on("mouseup",".erf-reg-form-container .erf-number .miinus",function(){var input=$(this).closest("div").find("input");input.trigger("change");clearInterval(decreaseVal)});jQuery("body").on("mouseup",'.erf-container .erf-form .erf-form-nav[current-page-index="1"] .erf-submit-button.erf-nav-prev',function(){changeUrl("TITLE","register-form/");jQuery(".header-btn-back").removeClass("active");jQuery(".steps .status .current").html("1");jQuery(".steps li").eq(0).addClass("current");jQuery(".steps li").eq(0).removeClass("active");jQuery(".steps li").eq(1).removeClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").addClass("active")});jQuery("body").on("mouseup",'.erf-container .erf-form .erf-form-nav[current-page-index="2"] .erf-submit-button.erf-nav-prev',function(){changeUrl("Property Info","property-info/");jQuery(".steps .status .current").html("2");jQuery(".steps li").eq(0).removeClass("current");jQuery(".steps li").eq(0).addClass("active");jQuery(".steps li").eq(1).addClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").removeClass("active")});jQuery("body").on("click",".steps li.active:first-child",function(){if(jQuery(".header-btn-back").is(":visible")){jQuery(".header-btn-back").click()}
setTimeout(function(){if(jQuery(".header-btn-back").is(":visible")){jQuery(".header-btn-back").click()}},100)});jQuery("body").on("click",".steps li.active:nth-child(2)",function(){if(jQuery(".header-btn-back").is(":visible")){jQuery(".header-btn-back").click()}});jQuery("body").on("click",".header-btn-back",function(e){e.preventDefault(0);var curentStep=jQuery(".erf-container .erf-form .erf-form-nav").attr("current-page-index");jQuery(".erf-container .erf-form .erf-form-nav .erf-submit-button.erf-nav-prev").trigger("click");if(curentStep=="2"){changeUrl("Property Info","property-info/");jQuery(".steps .status .current").html("2");jQuery(".steps li").eq(0).removeClass("current");jQuery(".steps li").eq(0).addClass("active");jQuery(".steps li").eq(1).addClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").removeClass("active")}else if(curentStep=="1"){changeUrl("TITLE","register-form/");jQuery(".header-btn-back").removeClass("active");jQuery(".steps .status .current").html("1");jQuery(".steps li").eq(0).addClass("current");jQuery(".steps li").eq(0).removeClass("active");jQuery(".steps li").eq(1).removeClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").addClass("active")}
jQuery(".your-pms").trigger("change");jQuery(".pms-content").remove();jQuery(".has-cta").removeClass("active");console.log(curentStep)});jQuery("#bookiply-contents .header-btn-back").on("click",function(){jQuery(".entry-content").removeClass("bookiply");jQuery("#main-contents").show();jQuery("#main-form").show();jQuery("#bookiply-contents").hide();jQuery("#bookiply-form").hide();jQuery(".sync-custom-btn").removeClass("erf-disabled").find(".erf-loader").remove()});var originPMS=yourPMS_selected;var currentPmsCont=jQuery(".current-pms-cont").html();var get_api_key_cont=jQuery(".get_api_key_cont .action a").html();var get_api_h2=jQuery("#get-api h2").html();var textProcessing=jQuery(".text-processing").html();if(yourPMS_selected=="I don't use a PMS"||yourPMS_selected=="Others PMS"||yourPMS_selected=="Chekin"){originPMS="Chekin"}
jQuery("body").on("click",".sync-custom-btn",function(e){e.preventDefault();localStorage.removeItem("token");sessionStorage.removeItem("token");jQuery("div, input, select").removeClass("parsley-error");jQuery(".parsley-errors-list").remove();if(urlPMS){urlPMS_UpdateField()}
console.log(collaborator_token);if(collaborator_token){createAcountAPI();jQuery("body").addClass("are_tokens_refetched")}else{jQuery("body").removeClass("are_tokens_refetched");var regName=jQuery("input.name").val();var regEmail=jQuery('[name="text-gE8dLd"]').val();var RegPass=jQuery('[name="text-1hJwzr"]').val();var yourPropertyType=jQuery(".your-property-type").val();var yourRoomNumberInput=jQuery(".your-room-number-input").val();var yourReference=jQuery(".your-reference").val();var pmsSwitch=jQuery(".pms-switch:checked").val();var yourpms=jQuery(".your-pms").val();var yourPhone=jQuery(".phone").val();var yourAddress=jQuery(".your_address").val();if(yourAddress==''){yourAddress=jQuery('[name="yourAddress"]').val();jQuery(".your_address").val(yourAddress)}
if(pmsSwitch){pmsSwitch=pmsSwitch}else{pmsSwitch=""}
var regError="";var errorHTMmsg='<ul class="parsley-errors-list filled"><li>'+erf_global.parsley.required+"</li></ul>";if(regName.length==0){regError="Name requred";jQuery("input.name").addClass("parsley-error");jQuery("input.name").closest("div").append(errorHTMmsg)}
if(regEmail.length==0){regError="Email requred";jQuery('[name="text-gE8dLd"]').addClass("parsley-error");jQuery('[name="text-gE8dLd"]').closest("div").append(errorHTMmsg)}
if(RegPass.length==0){regError="Pass requred";jQuery('[name="text-1hJwzr"]').addClass("parsley-error");jQuery('[name="text-1hJwzr"]').closest("div").append(errorHTMmsg)}
if(yourPropertyType==null){regError="yourPropertyType requred";jQuery(".your-property-type").addClass("parsley-error").removeClass("is-valid");jQuery(".your-property-type").closest("div").append(errorHTMmsg)}
if(yourRoomNumberInput.length==0){regError="yourRoomNumberInput requred";jQuery(".your-room-number-input").addClass("parsley-error");jQuery(".your-room-number-input").closest("div").append(errorHTMmsg)}
if(pmsSwitch.length==0){regError="pmsSwitch requred";jQuery(".pms-switch").closest(".radio-group").addClass("parsley-error");jQuery(".pms-switch").closest(".radio-group").after(errorHTMmsg)}
if(pmsSwitch=="yes"&&yourpms==null){regError="yourpms requred";jQuery(".your-pms").addClass("parsley-error").removeClass("is-valid");jQuery(".your-pms").closest("div").append(errorHTMmsg)}
if(yourPropertyType_selected.toLowerCase()=="hou"){if(yourAddress.length==0){regError="yourAddress requred";jQuery(".your_address").addClass("parsley-error");jQuery(".your_address").closest("div").append(errorHTMmsg)}}
if(yourPhone.length==0){regError="yourPhone requred";jQuery(".phone").addClass("parsley-error");jQuery(".phone").closest("div").append(errorHTMmsg)}
console.log(regError);if(regError.length==0){jQuery(".header-btn-back").addClass("active");changeUrl("Property Info","property-info/");jQuery(".steps .status .current").html("2");jQuery(".steps li").eq(0).removeClass("current");jQuery(".steps li").eq(0).addClass("active");jQuery(".steps li").eq(1).addClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").removeClass("active");mixpanel.track("Onboarding - UserData",{utm_source:utm_source,email:jQuery('input[name="text-gE8dLd"]').val(),name:jQuery('input[name="text-VdkIuH"]').val(),phone_number:jQuery('input[name="field-c2xENTMAvcqpurK"]').val(),country_ip:country_ip,});console.log("Onboarding - UserData");mixpanel.identify(jQuery('input[name="text-gE8dLd"]').val());mixpanel.people.set({$name:jQuery('input[name="text-VdkIuH"]').val(),$email:jQuery('input[name="text-gE8dLd"]').val(),});jQuery(".parsley-error").removeClass(".parsley-error")}else{console.log("Error showing. Let's go to top!");jQuery("html, body").animate({scrollTop:0},300)}
console.log("Validation chek");if(1){if(regError.length==0){jQuery(".header-btn-back").addClass("active");if(yourPMS_selected=="I don't use a PMS"||yourPMS_selected=="Others PMS"||yourPMS_selected=="Chekin"||yourPMS_selected=="Beds24"||yourPMS_selected=="Booking Automation"||yourPMS_selected=="dataHotel"||yourPMS_selected=="Planyo"){changeUrl("Before Start","before-start/");jQuery(".steps li").eq(0).removeClass("current");jQuery(".steps li").eq(0).addClass("active");jQuery(".steps li").eq(1).removeClass("current");jQuery(".steps li").eq(1).addClass("active");jQuery(".sec-contents-sm").removeClass("active")}else{changeUrl(TITLE,"register-form/");jQuery(".steps li").eq(0).removeClass("current");jQuery(".steps li").eq(0).addClass("active");jQuery(".steps li").eq(1).addClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").removeClass("active")}
if(jQuery(".parsley-error").length<1){mixpanel.track("Onboarding - HousingsData",{utm_source:utm_source,email:jQuery('input[name="text-gE8dLd"]').val(),name:jQuery('input[name="text-VdkIuH"]').val(),phone_number:jQuery('input[name="field-c2xENTMAvcqpurK"]').val(),country_ip:country_ip,type_of_properties:jQuery('select[name="field-aD7ucdKDH7uqiq3"]').val(),range_of_number_of_properties:jQuery('select[name="field-UQwb7oDM9q4lihb"]').val(),origin:originPMS,});console.log("Onboarding - HousingsData");mixpanel.identify(jQuery('input[name="text-gE8dLd"]').val());mixpanel.people.set({$name:jQuery('input[name="text-VdkIuH"]').val(),$email:jQuery('input[name="text-gE8dLd"]').val(),})}
jQuery(".current-pms-cont .text-sync").removeClass("d-none");jQuery(".current-pms-cont .text-create ").addClass("d-none");isOauth=0;let customSyncForm=chekinforms[yourPMS_selected];jQuery('.erf-page.erf-page-1 [class*="field"]').addClass("screen-reader-text").hide();if(yourPMS_selected==""||yourPMS_selected=="I don't use a PMS"||yourPMS_selected=="Others PMS"){jQuery(".current-pms-cont").html("Creating your account")}else{jQuery(".current-pms-cont").html(currentPmsCont);jQuery("#current-pms").html(jQuery(".your-pms").find("option:selected").text())}
if(yourPMS_selected in chekinforms){jQuery(this).closest("form").submit();var pmsContent="";var pmsContent="<p class='pms-title'>"+chekinforms.PMS_TITLE+"</p>";var pmsName='';if(customSyncForm.pmsName){pmsContent+="<h1 class='pms-name'><strong>"+customSyncForm.pmsName+"</strong></h1>";pmsName=customSyncForm.pmsName}
if(customSyncForm.contentTitle&&customSyncForm.contentVideo){pmsContent+="<h2>"+customSyncForm.contentTitle+"</h2>"}
if(customSyncForm.contentVideo){pmsContent+='<div class="video">'+customSyncForm.contentVideo+"</div>"}
if(customSyncForm.logo){jQuery(".current-pms-cont").prepend('<img src="'+customSyncForm.logo+'" class="pms-logo" alt="'+pmsName+'" ></h2>');pmsContent+='<img src="'+customSyncForm.logo+'" class="pms-logo" alt="'+pmsName+'" >'}
if(customSyncForm.content){pmsContent+=customSyncForm.content}
if(customSyncForm.benefitsTitle){pmsContent+="<h2 class='benefits-title'>"+customSyncForm.benefitsTitle+"</h2>"}
if(customSyncForm.benefits){var benefits='';customSyncForm.benefits.forEach(element=>{benefits+='<li>'+element+'</li>'});pmsContent+='<ul class="benefits">'+benefits+'</ul>'}
if(pmsContent){jQuery(".pms-content").remove();jQuery(".sec-contents .contents .wp-block-group__inner-container").prepend('<div class="pms-content"><button type="button" class="button btn-link header-btn-back active">Atrás</button>'+pmsContent+"</div>");setTimeout(function(){fixYoutubeVideo()},100)}else{jQuery(".pms-content").remove();jQuery(".has-cta").removeClass("active")}}
if(yourPMS_selected in chekinforms&&customSyncForm.form!=undefined){jQuery("#customSyncForm").html(customSyncForm.form);multiField();jQuery("select.form-control > option[value='']").attr('disabled','disabled');jQuery('.form-custom .js-example-basic-single').select2({searchInputPlaceholder:searchText,dropdownCssClass:"dropdown-search-no",dropdownPosition:'below',});if(customSyncForm.helpInitiator){jQuery(".get_api_key_cont .action a").html(customSyncForm.helpInitiator)}else{jQuery(".get_api_key_cont .action a").html(get_api_key_cont)}
if(customSyncForm.helptitle){jQuery("#get-api h2").html(customSyncForm.helptitle)}else{jQuery("#get-api h2").html(get_api_h2)}
if(customSyncForm.help){jQuery("#get-api, .get_api_key_cont").show();jQuery("#apihelp").html("");jQuery("#apihelp").html(customSyncForm.help);setTimeout(function(){},30)}else{jQuery("#get-api, .get_api_key_cont").hide()}
jQuery(".current-pms-cont .action").show()}else{e.preventDefault();jQuery(".curl-error").remove();jQuery("#get-api, .get_api_key_cont").hide();let formData=jQuery(".erf-form.erf-front-form").serializeArray();setTimeout(function(){createAcountAPI()},10);jQuery("#customSyncForm").html('<p class="processing text-center"><span class="erf-loader ml-0 mt-0 mb-5"></span> <br> '+textProcessing+"</p>");jQuery(".current-pms-cont .action").hide();jQuery(".current-pms-cont .text-sync").addClass("d-none");jQuery(".current-pms-cont .text-create ").removeClass("d-none");console.log("submitted manually!");jQuery(this).find(".erf-loader").remove();jQuery(this).addClass("erf-disabled");jQuery(this).append('<span class="erf-loader ml-0 mt-0 mb-5"></span>');return 0}}}}});function oAuth(){isOauth=0;let email_oauth=jQuery('input[name="text-gE8dLd"]').val();let REDIRECT_URL=site_url;let accommodationType=yourPropertyType_selected;let authURL="";if(yourPMS_selected=="Apaleo"){let APALEO_CLIENT_ID="GAMF-AC-A21EF2584D004511BB8E6C06792D1A";authURL=encodeURI("https://identity.apaleo.com/connect/authorize?response_type=code&scope=offline_access setup.read reservations.manage reservations.read accounting.read&client_id="+APALEO_CLIENT_ID+"&redirect_uri="+REDIRECT_URL+"&state="+email_oauth+","+ accommodationType
 )}else if(yourPMS_selected=="BookingSync"||yourPMS_selected=="BookingSync_2"){let BOOKINGSYNC_CLIENT_ID="466b246b3efc95ac8d5334bf1bc368502043ff8378fec42d80bf2df265d93494";authURL="https://www.bookingsync.com/oauth/authorize?client_id="+BOOKINGSYNC_CLIENT_ID+"&redirect_uri="+REDIRECT_URL+"&response_type=code&scope=bookings_read%20bookings_write%20clients_read%20clients_write%20rentals_read&state="+email_oauth+","+accommodationType}else if(yourPMS_selected=="Cloudbeds"){let CLOUDBEDS_CLIENT_ID="chekin_nVIvagj8AG24TqpsruKy1P7F";authURL="https://hotels.cloudbeds.com/api/v1.1/oauth?client_id=chekin_nVIvagj8AG24TqpsruKy1P7F&redirect_uri=https%3A%2F%2Fchekin.com%2Fonboarding%2F&response_type=code&scope=read%3Aguest+write%3Aguest+read%3Ahotel+read%3Apayment+read%3Areservation+write%3Areservation+read%3Aroom+write%3Aroom+write%3AcustomFields+read%3AcustomFields"}else if(yourPMS_selected=="TESTING"){let CLOUDBEDS_CLIENT_ID="chekin_nVIvagj8AG24TqpsruKy1P7F";authURL="https://hotels.cloudbeds.com/api/v1.1/oauth?client_id="+CLOUDBEDS_CLIENT_ID+"&redirect_uri="+REDIRECT_URL+"&response_type=code&scope=read%3Aguest+write%3Aguest+read%3Ahotel+read%3Apayment+read%3Areservation+write%3Areservation+read%3Aroom+write%3Aroom&state="+email_oauth+","+accommodationType+",0"}else if(yourPMS_selected=="Myvr"){let MYVR_CLIENT_ID="d135100a58e188981d001edc70610c55";authURL="https://developer.myvr.com/oauth/auth/?response_type=code&client_id="+MYVR_CLIENT_ID+"&scope=property_read_write,reservation_read_write&redirect_uri="+REDIRECT_URL+"&state="+email_oauth+","+accommodationType}else if(yourPMS_selected=="Ownerrez"){let OWNERREZ_CLIENT_ID="c_ca8tozyniufmiqb03tqmiskjpa4l99c1";authURL="https://secure.ownerreservations.com/oauth/authorize?response_type=code&client_id="+OWNERREZ_CLIENT_ID+"&state="+email_oauth+","+accommodationType}else if(yourPMS_selected=="Octorate"||yourPMS_selected=="Octorate_2"){let OCTORATE_CLIENT_ID="c4e1158569ae46958ca835e0c326b164";authURL="https://admin.octorate.com/octobook/identity/oauth.xhtml?client_id=c4e1158569ae46958ca835e0c326b164&redirect_uri=https://chekin.com/onboarding/&state=something_crypted"}else if(yourPMS_selected=="Booking"){let BOOKING_CLIENT_ID="40779cde13ca4a6ce74194cf29df1722";authURL="https://hub-api.booking.com/v1/oauth2/authorize?response_type=code&client_id="+BOOKING_CLIENT_ID+"&redirect_uri="+REDIRECT_URL+"&state="+email_oauth+","+accommodationType}else if(yourPMS_selected=="Booking_2"){let BOOKING_CLIENT_ID="40779cde13ca4a6ce74194cf29df1722";authURL="https://hub-api.booking.com/v1/oauth2/authorize?response_type=code&client_id="+BOOKING_CLIENT_ID+"&redirect_uri="+REDIRECT_URL+"&state="+email_oauth+","+accommodationType}if(yourPMS_selected=="Hostfully_2"){authURL='https://platform.hostfully.com/api/auth/oauth/authorize?state=success&scope=FULL&grantType=REFRESH_TOKEN&clientId=SESK3dMvC7zH2tFoEtozs9YbgoeEkfzn&redirectUri='+REDIRECT_URL}else if(yourPMS_selected=="IGMS"){authURL="https://igms.com//app/auth.html?client_id=283&redirect_uri="+REDIRECT_URL+"&scope=tasks,messaging,direct-bookings"}else if(yourPMS_selected=="Hospitable"){var hospitable_CLIENT_ID="6d3bea52-4e50-473e-afcf-0d90c89c0ca6";var hospitable_CLIENT_Secret="m6XG05xJLqtV1yeN4smSzee1kwobffbBQBLS6zuq";authURL="https://auth.hospitable.com/oauth/authorize?client_id="+hospitable_CLIENT_ID+"&response_type=code"}
if(email_oauth!=""){console.log(authURL);window.location.href=authURL}else{console.log("Email is required!")}}
jQuery("body").on("click",".btn-oauth",function(){console.log("Do not submit hb form and do oAuth");jQuery(".btn-oauth").addClass("erf-disabled").append('<span class="erf-loader"></span>');if(isOauth==0){oAuth()}else{jQuery(".btn-oauth").removeClass("erf-disabled").find(".erf-loader").remove();let api_password=jQuery("input[name='api_password']").val();let api_password_confirm=jQuery("input[name='api_password_confirm']").val();let error="";if(error==""){jQuery(".btn-oauth").addClass("erf-disabled").append('<span class="erf-loader"></span>');createAcountAPI()}else{jQuery(".btn-oauth").removeClass("erf-disabled").find(".erf-loader").remove();console.log(error)}}});function signupAjaxAction(formData){let erf_username=jQuery('input[name="text-gE8dLd"]').val();if(jQuery(".your-pms").val()=="Rentals United"){erf_username=jQuery('.customSyncForm input[name="email"]').val()}
console.log(erf_username);let erf_password=jQuery('input[name="text-1hJwzr"]').val();$.ajax({type:"POST",url:site_url+"/wp-admin/admin-ajax.php",data:formData,success:function(msg){pmsLogin(erf_username,erf_password);console.log(msg,"Auto signup")},error:function(er){console.log(er,"Signup ERROR")},})}
function loginAjaxAction(erf_username,erf_password){$.ajax({type:"POST",url:site_url+"/wp-admin/admin-ajax.php",data:{erf_username:erf_username,erf_password:erf_password,action:"erf_login_user",erf_login_nonce:"735b5e7d14",},success:function(msg){let loginToken=localStorage.getItem("token");if(loginToken){localStorage.removeItem("formData");if(yourPMS_selected=="5STELLE"||yourPMS_selected=="AQHOLDER"||yourPMS_selected=="BRILLANTEZ"||yourPMS_selected=="GUESTCENTRIX"||yourPMS_selected=="EASYREZ"||yourPMS_selected=="FRONT2GO"||yourPMS_selected=="GOLDENUP"||yourPMS_selected=="HOTELTIME"||yourPMS_selected=="IBELSA"||yourPMS_selected=="INNKEYPMS"||yourPMS_selected=="MISTERBOOKING"||yourPMS_selected=="NEWBOOK"||yourPMS_selected=="OCCUPANCYPLUS"||yourPMS_selected=="PRENO"||yourPMS_selected=="RDPWIN"||yourPMS_selected=="ROOMRACCOON"||yourPMS_selected=="ROOMRANGER"||yourPMS_selected=="SHALOM"||yourPMS_selected=="SIRVOY"||yourPMS_selected=="THAISHOTELS"||yourPMS_selected=="TKSYSTEM"||yourPMS_selected=="VHP"||yourPMS_selected=="WINHMS"||yourPMS_selected=="WINHOTEL"||yourPMS_selected=="XENIA"||yourPMS_selected=="ZAVIA"||yourPMS_selected=="SMARTFX"||yourPMS_selected=="littlehotelier"||yourPMS_selected=="channelmanager"){window.location=dashboard_URL+loginToken+"&siteminder-modal=true"}else{window.location=dashboard_URL+loginToken}}else{}
console.log(msg,"Auto login")},error:function(er){console.log(er,"ERROR")},})}
function createAcountAPI(bookiply=!1){setTimeout(function(){if(jQuery(".erf-reg-form-container .parsley-error").length<1){let formData=jQuery(".erf-form.erf-front-form").serializeArray();changeUrl("Before Start","before-start/");jQuery(".steps li").eq(0).removeClass("current");jQuery(".steps li").eq(0).addClass("active");jQuery(".steps li").eq(1).removeClass("current");jQuery(".steps li").eq(1).addClass("active");jQuery(".sec-contents-sm").removeClass("active");jQuery(".curl-error").remove();jQuery(".current-pms-cont .action").hide();jQuery(".current-pms-cont .text-sync").addClass("d-none");jQuery(".current-pms-cont .text-create ").removeClass("d-none");jQuery(".header-btn-back").removeClass("active");if(!bookiply&&jQuery('.your-room-number-input').val()<21&&jQuery('.your-pms').val()=="Chekin"&&jQuery(".your-property-type").val()!="HOT"){jQuery(".entry-content").addClass("bookiply");jQuery("#main-contents").hide();jQuery("#main-form").hide();jQuery("#bookiply-contents").show();jQuery("#bookiply-form").show();var bookiplyVideoURL=jQuery("#bookiply-video").attr('data-src');if(jQuery("#bookiply-video").length&&bookiplyVideoURL){jQuery("#bookiply-video").attr('src',bookiplyVideoURL)}
jQuery("#bookiply-contents .header-btn-back").addClass("active");window.scrollTo(0,0);return}
$.ajax({type:"POST",url:site_url+"/forms/formAction.php",data:formData,success:function(msg){console.log(msg);if(msg.status==!1){jQuery('.custom-sync, .form-custom button[type="submit"], .sync-custom-btn').removeClass("erf-disabled").find(".erf-loader").remove();jQuery(".btn-oauth").removeClass("erf-disabled").find(".erf-loader").remove();jQuery(".erf-reg-form-container form").prepend("<div id='curl-error' class='error curl-error erf-field-error text-center'><b>ERROR:</b> "+msg.message+"</div>");jQuery("#bookiply-contents .curl-error").remove();jQuery("#bookiply-contents #btn-bookiply-continue").closest(".wp-block-buttons").after("<div id='curl-error_bookiply' class='error curl-error erf-field-error'><b>ERROR:</b> "+msg.message+"</div>");jQuery("#bookiply-popup").removeClass("active");jQuery("#btn-bookiply-confirm, #btn-bookiply-continue, #btn-bookiply-continue a").removeClass("disabled").find(".erf-loader").remove();jQuery(".current-pms-cont .action").show();jQuery(".current-pms-cont .text-sync").removeClass("d-none");jQuery(".current-pms-cont .text-create ").addClass("d-none");jQuery(".header-btn-back").addClass("active");isOauth=0;jQuery("body").removeClass("are_tokens_refetched collaborator_token");jQuery("html, body").animate({scrollTop:0},300);if(collaborator_token==null&&are_tokens_refetched==!1){changeUrl(TITLE,"register-form/");jQuery(".customSyncForm .processing").html("<br>");jQuery(".steps li").eq(0).removeClass("current");jQuery(".steps li").eq(0).addClass("active");jQuery(".steps li").eq(1).addClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").removeClass("active")}else{changeUrl("PMS Type","register-form/");jQuery(".header-btn-back").removeClass("active");jQuery(".steps li").eq(0).addClass("current");jQuery(".steps li").eq(0).removeClass("active");jQuery(".steps li").eq(1).removeClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").addClass("active")}}else{let token="curl_response" in msg&&"api_key" in msg.curl_response?msg.curl_response.api_key:"";if(token!=""){localStorage.setItem("token",token)}
mixpanel.track("Onboarding - UserRegistered",{utm_source:utm_source,email:jQuery('input[name="text-gE8dLd"]').val(),name:jQuery('input[name="text-VdkIuH"]').val(),phone_number:jQuery('input[name="field-c2xENTMAvcqpurK"]').val(),country_ip:country_ip,type_of_properties:jQuery('select[name="field-aD7ucdKDH7uqiq3"]').val(),range_of_number_of_properties:jQuery('select[name="field-UQwb7oDM9q4lihb"]').val(),origin:originPMS,});console.log("Onboarding - UserRegistered");mixpanel.alias(jQuery('input[name="text-gE8dLd"]').val());mixpanel.identify(jQuery('input[name="text-gE8dLd"]').val());mixpanel.people.set({$name:jQuery('input[name="text-VdkIuH"]').val(),$email:jQuery('input[name="text-gE8dLd"]').val(),});gtag("event","conversion",{send_to:"AW-481274774/fFP3CPDDl_IBEJbXvuUB",});jQuery("body").prepend('<img src="https://ct.capterra.com/capterra_tracker.gif?vid=2144807&vkey=dec23324135d0a08fa030758821e46a0" alt="" />');console.log("Event: Thank you page conversions");if(are_tokens_refetched){if(msg.curl_response.token){console.log("Redirecting to dashboard");window.location=dashboard_URL+msg.curl_response.token}}else{console.log("do not submit hb form and login");signupAjaxAction(formData)}
if(collaborator_token){if(msg.curl_response.token){console.log("Redirecting to dashboard");window.location=dashboard_URL+msg.curl_response.token}}}},error:function(er){console.log("error",er);jQuery(".entry-content").removeClass("bookiply");jQuery("#bookiply-contents").hide();jQuery("#bookiply-form").hide();jQuery("#main-contents").show();jQuery("#main-form").show();jQuery('.custom-sync, .form-custom button[type="submit"], .sync-custom-btn').removeClass("erf-disabled").find(".erf-loader").remove();jQuery(".btn-oauth").removeClass("erf-disabled").find(".erf-loader").remove();if(are_tokens_refetched==!1||collaborator_token==null){jQuery(".customSyncForm .processing ").html("<br>")}
jQuery(".current-pms-cont .action").show();jQuery(".current-pms-cont .text-sync").removeClass("d-none");jQuery(".current-pms-cont .text-create ").addClass("d-none");jQuery(".header-btn-back").addClass("active");changeUrl(TITLE,"register-form/");jQuery(".steps li").eq(0).removeClass("current");jQuery(".steps li").eq(0).addClass("active");jQuery(".steps li").eq(1).addClass("current");jQuery(".steps li").eq(1).removeClass("active");jQuery(".sec-contents-sm").removeClass("active");jQuery("html, body").animate({scrollTop:0},300)},})}else{console.log("There might be some parse error!")}},100)}
function pmsLogin(erf_username,erf_password){jQuery(".curl-error").remove();$.ajax({type:"POST",url:site_url+"/apilogin.php",data:{erf_username:erf_username,erf_password:erf_password,action:"erf_login_user",erf_login_nonce:"735b5e7d14",},success:function(msg){if(msg.curl_response.token){localStorage.setItem("token",msg.curl_response.token);let loginToken=localStorage.getItem("token");if(loginToken){localStorage.removeItem("formData");jQuery(document).ajaxComplete(function(){console.log("Triggered ajaxComplete handler.");if(yourPMS_selected=="5STELLE"||yourPMS_selected=="AQHOLDER"||yourPMS_selected=="BRILLANTEZ"||yourPMS_selected=="GUESTCENTRIX"||yourPMS_selected=="EASYREZ"||yourPMS_selected=="FRONT2GO"||yourPMS_selected=="GOLDENUP"||yourPMS_selected=="HOTELTIME"||yourPMS_selected=="IBELSA"||yourPMS_selected=="INNKEYPMS"||yourPMS_selected=="MISTERBOOKING"||yourPMS_selected=="NEWBOOK"||yourPMS_selected=="OCCUPANCYPLUS"||yourPMS_selected=="PRENO"||yourPMS_selected=="RDPWIN"||yourPMS_selected=="ROOMRACCOON"||yourPMS_selected=="ROOMRANGER"||yourPMS_selected=="SHALOM"||yourPMS_selected=="SIRVOY"||yourPMS_selected=="THAISHOTELS"||yourPMS_selected=="TKSYSTEM"||yourPMS_selected=="VHP"||yourPMS_selected=="WINHMS"||yourPMS_selected=="WINHOTEL"||yourPMS_selected=="XENIA"||yourPMS_selected=="ZAVIA"||yourPMS_selected=="SMARTFX"||yourPMS_selected=="littlehotelier"||yourPMS_selected=="channelmanager"){window.location=dashboard_URL+loginToken+"&siteminder-modal=true"}else{window.location=dashboard_URL+loginToken}})}else{jQuery('.custom-sync, .form-custom button[type="submit"]').removeClass("erf-disabled").find(".erf-loader").remove();jQuery(".erf-reg-form-container form").prepend("<div id='curl-error' class='error curl-error erf-field-error text-center'><b>ERROR:</b> "+msg.curl_response.non_field_errors[0]+"</div>");jQuery("#bookiply-contents .curl-error").remove();jQuery("#bookiply-contents #btn-bookiply-continue").closest(".wp-block-buttons").after("<div id='curl-error_bookiply' class='error curl-error erf-field-error'><b>ERROR:</b> "+msg.message+"</div>");jQuery("#bookiply-popup").removeClass("active");jQuery("#btn-bookiply-confirm, #btn-bookiply-continue, #btn-bookiply-continue a").removeClass("disabled").find(".erf-loader").remove()}}},error:function(er){console.log("error",er);jQuery(".erf-login-form.erf-form .btn.btn-default").removeClass("erf-disabled").find(".erf-loader").remove()},})}
jQuery("body").on("click",'.custom-sync, .form-custom button[type="submit"]',function(e){e.preventDefault();let key_token=jQuery('input[name="key_token"]').val();let pass_token=jQuery('input[name="pass_token"]').val();let owner_token=jQuery('input[name="owner_token"]').val();let error="";if(key_token==""){error="Key token is required"}else if(pass_token==""){error="Pass token is required"}else if(owner_token==""){error="Owner token is required"}
var hotelIds=jQuery('[name="hotels_id[]"]').map(function(){return jQuery(this).val()}).get();function hasDuplicates(arr){var valuesEncountered={};for(var i=0;i<arr.length;i++){var value=arr[i];if(valuesEncountered[value]){return!0}else{valuesEncountered[value]=!0}}
return!1}
if(hasDuplicates(hotelIds)){var duplicateElements=jQuery('[name="hotels_id[]"]').filter(function(){return hotelIds.indexOf(jQuery(this).val())!==hotelIds.lastIndexOf(jQuery(this).val())});duplicateElements.addClass('parsley-error');error="Duplicates found in hotel IDs";console.log('Duplicates found in hotel IDs.')}else{console.log('No duplicates found in hotel IDs.');jQuery('[name="hotels_id[]"]').removeClass('parsley-error')}
if(error!=""){jQuery('.curl-error').remove();jQuery(".erf-reg-form-container form").prepend("<div id='curl-error' class='error curl-error erf-field-error text-center'><b>ERROR: </b>"+error+"</div>");return!1}else{jQuery('.custom-sync, .form-custom button[type="submit"]').addClass("erf-disabled").append('<span class="erf-loader"></span>');createAcountAPI()}});jQuery(".lostpassword-button.erf-reset-password").addClass("screen-reader-text").after('<button type="button" name="custom-submit" class="custom-lostpassword-button ">'+jQuery(".lostpassword-button.erf-reset-password").text()+"</button>");jQuery("body").on("click",".custom-lostpassword-button",function(e){e.preventDefault();jQuery("#lostpasswordform").on("submit",function(e){e.preventDefault();return!1});let user_login=jQuery('input[name="user_login"]');let errorRecover="";if(user_login.val()==""){errorRecover="Email is required";user_login.addClass("parsley-error");if(user_login.next(".parsley-errors-list").length==0){user_login.after('<ul class="parsley-errors-list filled"><li class="parsley-required">This value is required.</li></ul>')}}else{user_login.removeClass("parsley-error");user_login.next(".parsley-errors-list").remove()}
jQuery(".custom-lostpassword-button").addClass("erf-disabled").append('<span class="erf-loader"></span>');let formData=jQuery("#lostpasswordform").serializeArray();jQuery(".curl-error, .curl-success").remove();if(errorRecover.length==0){$.ajax({type:"POST",url:site_url+"/apiresetpassword.php",data:formData,success:function(msg){console.log(msg);jQuery(".custom-lostpassword-button").removeClass("erf-disabled").find(".erf-loader").remove();if(msg.status){jQuery(".custom-lostpassword-button").after("<div id='curl-success' class='success curl-success erf-field-success text-center mt-30'>"+msg.curl_response.details+"</div>")}else{jQuery(".custom-lostpassword-button").after("<div id='curl-success' class='success curl-success erf-field-success-error  text-center mt-30'>"+msg.curl_response+"</div>")}},error:function(er){console.log(er);jQuery(".custom-lostpassword-button").removeClass("erf-disabled").find(".erf-loader").remove();jQuery(".custom-lostpassword-button").after("<div id='curl-error' class='error curl-error erf-field-error text-center mt-20'><b>ERROR:</b> "+msg.curl_response.details+"</div>")},})}else{jQuery(".custom-lostpassword-button").removeClass("erf-disabled").find(".erf-loader").remove()}
return 0});jQuery(document).ready(function(){console.log(are_tokens_refetched);if(are_tokens_refetched){setTimeout(function(){createAcountAPI()},800)}});var otp_inputs=document.querySelectorAll(".otp__digit");var mykey="0123456789".split("");otp_inputs.forEach((_)=>{_.addEventListener("keyup",handle_next_input)});function handle_next_input(event){let current=event.target;let index=parseInt(current.classList[1].split("__")[2]);current.value=event.key;if(event.keyCode==8&&index>1){current.previousElementSibling.focus()}
if(index<6&&mykey.indexOf(""+event.key+"")!=-1){var next=current.nextElementSibling;next.focus()}
var _finalKey="";for(let{value}of otp_inputs){_finalKey+=value}
if(_finalKey.length==6){console.log(_finalKey);jQuery('input[name="otp_code"]').val(_finalKey)}else{}}
jQuery(".has-cta a").on("click",function(e){e.preventDefault();jQuery("#popup-contact").addClass("active");return 0});jQuery("#btn-bookiply-continue").on("click",function(e){e.preventDefault();if(jQuery('input[name="bookiply-account"]:checked').val()==undefined){jQuery("#bookiply-account-yes").addClass("error");jQuery("#bookiply-account-no").addClass("error");jQuery("#bookiply-account-form-error").show()}else{jQuery("#bookiply-account-yes").removeClass("error");jQuery("#bookiply-account-no").removeClass("error");jQuery("#bookiply-account-form-error").hide();if($('input[name="bookiply-account"]:checked').val()=="Yes"){jQuery("#bookiply-popup").addClass("active");jQuery("#site-header").hide()}else{jQuery("#btn-bookiply-continue").addClass("disabled");jQuery("#btn-bookiply-continue .wp-element-button").append('<span class="erf-loader"></span>');createAcountAPI(!0)}}
return 0});jQuery("#btn-bookiply-cancel").on("click",function(e){e.preventDefault();jQuery("#site-header").show();jQuery(this).closest(".popup").removeClass("active")});jQuery("#bookiply-check-one").change(function(){if(this.checked){jQuery("#btn-bookiply-confirm").removeClass("disabled")}else{jQuery("#btn-bookiply-confirm").addClass("disabled")}});jQuery("#btn-bookiply-confirm").on("click",function(e){e.preventDefault();if(!jQuery("#btn-bookiply-confirm").hasClass("disabled")){jQuery("#btn-bookiply-confirm").addClass("disabled");jQuery("#btn-bookiply-confirm").append('<span class="erf-loader"></span>');var radioButtonValue=jQuery('.hbspt-form input[name="would_you_like_a_free_bookiply_account_"][value="Yes"]').val();console.log(radioButtonValue);var btnValue=jQuery("#btn-bookiply-confirm").val();console.log(btnValue);createAcountAPI(!0)}});jQuery("#bookiply-popup-close").on("click",function(e){jQuery("#site-header").show()})});function logoutAction(actionUrl){jQuery.ajax({type:"GET",url:actionUrl,success:function(msg){localStorage.removeItem("token");window.location.href=site_url+"/login/"},})}
document.addEventListener("keyup",function(event){if(jQuery(".erf-container .erf-form .erf-submit-button button").length){if(event.keyCode===13){jQuery(".erf-container .erf-form .erf-submit-button button").trigger("click")}}});jQuery(document).ready(function(){jQuery(".primary-menu li.logout > a").on("click",function(e){e.preventDefault();let logoutUrl=jQuery(this).attr("href");logoutAction(logoutUrl)});jQuery("body").on("mouseup",".erf-container .erf-form .erf-form-nav .erf-submit-button",function(){});jQuery("body").on("blur change",".form-control",function(){if(jQuery(this).val()!=""){jQuery(this).addClass("is-valid")}else{jQuery(this).removeClass("is-valid")}});jQuery("a.sync-btn").on("click",function(e){e.preventDefault();let formData=jQuery(".erf-form.erf-front-form").serializeArray();jQuery(".curl-error").remove();$.ajax({type:"POST",url:window.location.origin+"/apicall.php",data:formData,success:function(msg){console.log(msg);if(msg.status==!1){jQuery(".erf-reg-form-container form").prepend("<div id='curl-error' class='error curl-error erf-field-error text-center'><b>ERROR:</b> "+msg.curl_response+"</div>");jQuery("#bookiply-contents .curl-error").remove();jQuery("#bookiply-contents #btn-bookiply-continue").closest(".wp-block-buttons").after("<div id='curl-error_bookiply' class='error curl-error erf-field-error'><b>ERROR:</b> "+msg.message+"</div>");jQuery("#bookiply-popup").removeClass("active");jQuery("#btn-bookiply-confirm, #btn-bookiply-continue, #btn-bookiply-continue a").removeClass("disabled").find(".erf-loader").remove()}else{jQuery(".erf-form.erf-front-form").submit()}},error:function(er){console.log("error",er)},})});jQuery(".resend-code-link, .popup-2fa .close").on("click",function(e){e.preventDefault();jQuery('input[name="otp_token"]').val("");jQuery('input[name="otp_type"]').val("");jQuery('input[name="otp_code"]').val("")});jQuery(".popup-2fa .close").on("click",function(e){jQuery(".erf-login-form.erf-form .btn.btn-default .erf-loader").remove();jQuery(".erf-login-form.erf-form .btn.btn-default").removeClass("erf-disabled")});jQuery(".erf-login-form.erf-form .btn.btn-default, .btn-2fa-auth, .resend-code-link").on("click",function(e){e.preventDefault();let erf_username=jQuery('input[name="erf_username"]');let erf_password=jQuery('input[name="erf_password"]');let otp_token=jQuery('input[name="otp_token"]').val();let otp_type=jQuery('input[name="otp_type"]').val();let otp_code=jQuery('input[name="otp_code"]').val();let errorLogin="";let errorAdded=!1;if(erf_username.val()==""){errorLogin="Email is required";erf_username.addClass("parsley-error");if(erf_username.next(".parsley-errors-list").length==0){erf_username.after('<ul class="parsley-errors-list filled"><li class="parsley-required">'+erf_global.parsley.required+"</li></ul>");errorAdded=!0}}else{erf_username.removeClass("parsley-error");erf_username.next(".parsley-errors-list").remove()}
if(erf_password.val()==""){errorLogin="Password is required";erf_password.addClass("parsley-error");if(erf_password.next(".parsley-errors-list").length==0){erf_password.after('<ul class="parsley-errors-list filled"><li class="parsley-required">'+erf_global.parsley.required+"</li></ul>");errorAdded=!0}}else{erf_password.removeClass("parsley-error");erf_password.next(".parsley-errors-list").remove()}
console.log(errorLogin);jQuery(".erf-login-form.erf-form .btn.btn-default .erf-loader").remove();jQuery(".erf-login-form.erf-form .btn.btn-default").addClass("erf-disabled").append('<span class="erf-loader"></span>');jQuery(".erf-form .curl-error").remove();if(otp_code!=""){jQuery(".popup-2fa .process").addClass("active");jQuery(".popup-2fa .error-msg").hide()}else{jQuery(".popup-2fa .process").removeClass("active")}
var formData=jQuery(".erf-login-form.erf-form").serializeArray();formData.push({name:"otp_token",value:otp_token});formData.push({name:"otp_type",value:otp_type});formData.push({name:"code",value:otp_code});if(errorLogin.length==0){$.ajax({type:"POST",url:site_url+"/apilogin.php",data:formData,success:function(msg){console.log(msg);if(msg.curl_response.status_code==400){if(!errorAdded){jQuery(".popup-2fa .process").removeClass("active");jQuery(".popup-2fa .error-msg").html(msg.curl_response.errors[0].message).show();errorAdded=!0}}else if(msg.curl_response.otp_token&&msg.curl_response.otp_type){console.log(msg.curl_response.otp_type);jQuery("#popup-2fa").addClass("active");jQuery('input[name="otp_token"]').val(msg.curl_response.otp_token);jQuery('input[name="otp_type"]').val(msg.curl_response.otp_type);jQuery(".otp-input-fields [type=number]").val("");jQuery(".otp-input-fields [type=number]:first-child").focus();jQuery(".popup-2fa .error-msg").hide()}else if(msg.curl_response.token){localStorage.setItem("token",msg.curl_response.token);localStorage.removeItem("formData");window.location=dashboard_URL+msg.curl_response.token}else if(msg.curl_response.password){if(!errorAdded){jQuery(".erf-form .error.curl-error").remove();jQuery(".erf-form").append("<div id='curl-error' class='error curl-error erf-field-error text-center'>"+msg.curl_response.password[0]+"</div>");errorAdded=!0}
jQuery(".erf-login-form.erf-form .btn.btn-default").removeClass("erf-disabled").find(".erf-loader").remove();jQuery(".popup-2fa .process").removeClass("active")}else{if(!errorAdded){jQuery(".erf-form .error.curl-error").remove();jQuery(".erf-form").append("<div id='curl-error' class='error curl-error erf-field-error text-center'>"+msg.curl_response.non_field_errors[0]+"</div>");errorAdded=!0}
jQuery(".erf-login-form.erf-form .btn.btn-default").removeClass("erf-disabled").find(".erf-loader").remove();jQuery(".popup-2fa .process").removeClass("active")}},error:function(er){console.log("error",er);jQuery(".erf-login-form.erf-form .btn.btn-default").removeClass("erf-disabled").find(".erf-loader").remove()},})}else{jQuery(".erf-login-form.erf-form .btn.btn-default").removeClass("erf-disabled").find(".erf-loader").remove()}
return 0})});var chekin2020=chekin2020||{};chekin2020.scrolled=0;if(!Element.prototype.closest){Element.prototype.closest=function(s){var el=this;do{if(el.matches(s)){return el}
el=el.parentElement||el.parentNode}while(el!==null&&el.nodeType===1);return null}}
if(window.NodeList&&!NodeList.prototype.forEach){NodeList.prototype.forEach=function(callback,thisArg){var i;var len=this.length;thisArg=thisArg||window;for(i=0;i<len;i++){callback.call(thisArg,this[i],i,this)}}}
chekin2020.createEvent=function(eventName){var event;if(typeof window.Event==="function"){event=new Event(eventName)}else{event=document.createEvent("Event");event.initEvent(eventName,!0,!1)}
return event};if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;while(--i>=0&&matches.item(i)!==this){}
return i>-1}}
chekin2020.touchEnabled={init:function(){var matchMedia=function(){var prefixes=["-webkit-","-moz-","-o-","-ms-"];var query=["(",prefixes.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia&&window.matchMedia(query).matches};if("ontouchstart" in window||(window.DocumentTouch&&document instanceof window.DocumentTouch)||matchMedia()){document.body.classList.add("touch-enabled")}},};chekin2020.coverModals={init:function(){if(document.querySelector(".cover-modal")){this.onToggle();this.outsideUntoggle();this.closeOnEscape();this.hideAndShowModals()}},onToggle:function(){document.querySelectorAll(".cover-modal").forEach(function(element){element.addEventListener("toggled",function(event){var modal=event.target,body=document.body;if(modal.classList.contains("active")){body.classList.add("showing-modal")}else{body.classList.remove("showing-modal");body.classList.add("hiding-modal");setTimeout(function(){body.classList.remove("hiding-modal")},500)}})})},outsideUntoggle:function(){document.addEventListener("click",function(event){var target=event.target;var modal=document.querySelector(".cover-modal.active");if(event.target.tagName.toLowerCase()==="a"&&event.target.hash.includes("#")&&modal!==null){this.untoggleModal(modal);setTimeout(function(){var anchor=document.getElementById(event.target.hash.slice(1));anchor.scrollIntoView()},550)}
if(target===modal){this.untoggleModal(target)}}.bind(this))},closeOnEscape:function(){document.addEventListener("keydown",function(event){if(event.keyCode===27){event.preventDefault();document.querySelectorAll(".cover-modal.active").forEach(function(element){this.untoggleModal(element)}.bind(this))}}.bind(this))},hideAndShowModals:function(){var _doc=document,_win=window,modals=_doc.querySelectorAll(".cover-modal"),htmlStyle=_doc.documentElement.style,adminBar=_doc.querySelector("#wpadminbar");function getAdminBarHeight(negativeValue){var height,currentScroll=_win.pageYOffset;if(adminBar){height=currentScroll+adminBar.getBoundingClientRect().height;return negativeValue?-height:height}
return currentScroll===0?0:-currentScroll}
function htmlStyles(){var overflow=_win.innerHeight>_doc.documentElement.getBoundingClientRect().height;return{"overflow-y":overflow?"hidden":"scroll",position:"fixed",width:"100%",top:getAdminBarHeight(!0)+"px",left:0,}}
modals.forEach(function(modal){modal.addEventListener("toggle-target-before-inactive",function(event){var styles=htmlStyles(),offsetY=_win.pageYOffset,paddingTop=Math.abs(getAdminBarHeight())-offsetY+"px",mQuery=_win.matchMedia("(max-width: 600px)");if(event.target!==modal){return}
Object.keys(styles).forEach(function(styleKey){htmlStyle.setProperty(styleKey,styles[styleKey])});_win.chekin2020.scrolled=parseInt(styles.top,10);if(adminBar){_doc.body.style.setProperty("padding-top",paddingTop);if(mQuery.matches){if(offsetY>=getAdminBarHeight()){modal.style.setProperty("top",0)}else{modal.style.setProperty("top",getAdminBarHeight()-offsetY+"px")}}}
modal.classList.add("show-modal")});modal.addEventListener("toggle-target-after-inactive",function(event){if(event.target!==modal){return}
setTimeout(function(){var clickedEl=chekin2020.toggles.clickedEl;modal.classList.remove("show-modal");Object.keys(htmlStyles()).forEach(function(styleKey){htmlStyle.removeProperty(styleKey)});if(adminBar){_doc.body.style.removeProperty("padding-top");modal.style.removeProperty("top")}
if(clickedEl!==!1){clickedEl.focus();clickedEl=!1}
_win.scrollTo(0,Math.abs(_win.chekin2020.scrolled+getAdminBarHeight()));_win.chekin2020.scrolled=0},500)})})},untoggleModal:function(modal){var modalTargetClass,modalToggle=!1;if(modal.dataset.modalTargetString){modalTargetClass=modal.dataset.modalTargetString;modalToggle=document.querySelector('*[data-toggle-target="'+modalTargetClass+'"]')}
if(modalToggle){modalToggle.click()}else{modal.classList.remove("active")}},};chekin2020.intrinsicRatioVideos={init:function(){this.makeFit();window.addEventListener("resize",function(){this.makeFit()}.bind(this))},makeFit:function(){document.querySelectorAll("iframe, object, video").forEach(function(video){var ratio,iTargetWidth,container=video.parentNode;if(video.classList.contains("intrinsic-ignore")||video.parentNode.classList.contains("intrinsic-ignore")){return!0}
if(!video.dataset.origwidth){video.setAttribute("data-origwidth",video.width);video.setAttribute("data-origheight",video.height)}
iTargetWidth=container.offsetWidth;ratio=iTargetWidth/video.dataset.origwidth;video.style.width=iTargetWidth+"px";video.style.height=video.dataset.origheight*ratio+"px"})},};chekin2020.modalMenu={init:function(){this.expandLevel();this.keepFocusInModal()},expandLevel:function(){var modalMenus=document.querySelectorAll(".modal-menu");modalMenus.forEach(function(modalMenu){var activeMenuItem=modalMenu.querySelector(".current-menu-item");if(activeMenuItem){chekin2020FindParents(activeMenuItem,"li").forEach(function(element){var subMenuToggle=element.querySelector(".sub-menu-toggle");if(subMenuToggle){chekin2020.toggles.performToggle(subMenuToggle,!0)}})}})},keepFocusInModal:function(){var _doc=document;_doc.addEventListener("keydown",function(event){var toggleTarget,modal,selectors,elements,menuType,bottomMenu,activeEl,lastEl,firstEl,tabKey,shiftKey,clickedEl=chekin2020.toggles.clickedEl;if(clickedEl&&_doc.body.classList.contains("showing-modal")){toggleTarget=clickedEl.dataset.toggleTarget;selectors="input, a, button";modal=_doc.querySelector(toggleTarget);elements=modal.querySelectorAll(selectors);elements=Array.prototype.slice.call(elements);if(".menu-modal"===toggleTarget){menuType=window.matchMedia("(min-width: 1000px)").matches;menuType=menuType?".expanded-menu":".mobile-menu";elements=elements.filter(function(element){return(null!==element.closest(menuType)&&null!==element.offsetParent)});elements.unshift(_doc.querySelector(".close-nav-toggle"));bottomMenu=_doc.querySelector(".menu-bottom > nav");if(bottomMenu){bottomMenu.querySelectorAll(selectors).forEach(function(element){elements.push(element)})}}
lastEl=elements[elements.length-1];firstEl=elements[0];activeEl=_doc.activeElement;tabKey=event.keyCode===9;shiftKey=event.shiftKey;if(!shiftKey&&tabKey&&lastEl===activeEl){event.preventDefault();firstEl.focus()}
if(shiftKey&&tabKey&&firstEl===activeEl){event.preventDefault();lastEl.focus()}}})},};chekin2020.primaryMenu={init:function(){this.focusMenuWithChildren()},focusMenuWithChildren:function(){var links,i,len,menu=document.querySelector(".primary-menu-wrapper");if(!menu){return!1}
links=menu.getElementsByTagName("a");for(i=0,len=links.length;i<len;i++){links[i].addEventListener("focus",toggleFocus,!0);links[i].addEventListener("blur",toggleFocus,!0)}
function toggleFocus(){var self=this;while(-1===self.className.indexOf("primary-menu")){if("li"===self.tagName.toLowerCase()){if(-1!==self.className.indexOf("focus")){self.className=self.className.replace(" focus","")}else{self.className+=" focus"}}
self=self.parentElement}}},};chekin2020.toggles={clickedEl:!1,init:function(){this.toggle();this.resizeCheck();this.untoggleOnEscapeKeyPress()},performToggle:function(element,instantly){var target,timeOutTime,classToToggle,self=this,_doc=document,toggle=element,targetString=toggle.dataset.toggleTarget,activeClass="active";if(!_doc.querySelectorAll(".show-modal").length){self.clickedEl=_doc.activeElement}
if(targetString==="next"){target=toggle.nextSibling}else{target=_doc.querySelector(targetString)}
if(target.classList.contains(activeClass)){target.dispatchEvent(chekin2020.createEvent("toggle-target-before-active"))}else{target.dispatchEvent(chekin2020.createEvent("toggle-target-before-inactive"))}
classToToggle=toggle.dataset.classToToggle?toggle.dataset.classToToggle:activeClass;timeOutTime=0;if(target.classList.contains("cover-modal")){timeOutTime=10}
setTimeout(function(){var focusElement,subMenued=target.classList.contains("sub-menu"),newTarget=subMenued?toggle.closest(".menu-item").querySelector(".sub-menu"):target,duration=toggle.dataset.toggleDuration;if(toggle.dataset.toggleType==="slidetoggle"&&!instantly&&duration!=="0"){chekin2020MenuToggle(newTarget,duration)}else{newTarget.classList.toggle(classToToggle)}
if(targetString==="next"){toggle.classList.toggle(activeClass)}else if(target.classList.contains("sub-menu")){toggle.classList.toggle(activeClass)}else{_doc.querySelector('*[data-toggle-target="'+targetString+'"]').classList.toggle(activeClass)}
chekin2020ToggleAttribute(toggle,"aria-expanded","true","false");if(self.clickedEl&&-1!==toggle.getAttribute("class").indexOf("close-")){chekin2020ToggleAttribute(self.clickedEl,"aria-expanded","true","false")}
if(toggle.dataset.toggleBodyClass){_doc.body.classList.toggle(toggle.dataset.toggleBodyClass)}
if(toggle.dataset.setFocus){focusElement=_doc.querySelector(toggle.dataset.setFocus);if(focusElement){if(target.classList.contains(activeClass)){focusElement.focus()}else{focusElement.blur()}}}
target.dispatchEvent(chekin2020.createEvent("toggled"));if(target.classList.contains(activeClass)){target.dispatchEvent(chekin2020.createEvent("toggle-target-after-active"))}else{target.dispatchEvent(chekin2020.createEvent("toggle-target-after-inactive"))}},timeOutTime)},toggle:function(){var self=this;document.querySelectorAll("*[data-toggle-target]").forEach(function(element){element.addEventListener("click",function(event){event.preventDefault();self.performToggle(element)})})},resizeCheck:function(){if(document.querySelectorAll("*[data-untoggle-above], *[data-untoggle-below], *[data-toggle-above], *[data-toggle-below]").length){window.addEventListener("resize",function(){var winWidth=window.innerWidth,toggles=document.querySelectorAll(".toggle");toggles.forEach(function(toggle){var unToggleAbove=toggle.dataset.untoggleAbove,unToggleBelow=toggle.dataset.untoggleBelow,toggleAbove=toggle.dataset.toggleAbove,toggleBelow=toggle.dataset.toggleBelow;if(!unToggleAbove&&!unToggleBelow&&!toggleAbove&&!toggleBelow){return}
if((((unToggleAbove&&winWidth>unToggleAbove)||(unToggleBelow&&winWidth<unToggleBelow))&&toggle.classList.contains("active"))||(((toggleAbove&&winWidth>toggleAbove)||(toggleBelow&&winWidth<toggleBelow))&&!toggle.classList.contains("active"))){toggle.click()}})})}},untoggleOnEscapeKeyPress:function(){document.addEventListener("keyup",function(event){if(event.key==="Escape"){document.querySelectorAll("*[data-untoggle-on-escape].active").forEach(function(element){if(element.classList.contains("active")){element.click()}})}})},};function chekin2020DomReady(fn){if(typeof fn!=="function"){return}
if(document.readyState==="interactive"||document.readyState==="complete"){return fn()}
document.addEventListener("DOMContentLoaded",fn,!1)}
chekin2020DomReady(function(){chekin2020.toggles.init();chekin2020.coverModals.init();chekin2020.intrinsicRatioVideos.init();chekin2020.modalMenu.init();chekin2020.primaryMenu.init();chekin2020.touchEnabled.init()});function chekin2020ToggleAttribute(element,attribute,trueVal,falseVal){if(trueVal===undefined){trueVal=!0}
if(falseVal===undefined){falseVal=!1}
if(element.getAttribute(attribute)!==trueVal){element.setAttribute(attribute,trueVal)}else{element.setAttribute(attribute,falseVal)}}
function chekin2020MenuToggle(target,duration){var initialParentHeight,finalParentHeight,menu,menuItems,transitionListener,initialPositions=[],finalPositions=[];if(!target){return}
menu=target.closest(".menu-wrapper");menuItems=menu.querySelectorAll(".menu-item");menuItems.forEach(function(menuItem,index){initialPositions[index]={x:menuItem.offsetLeft,y:menuItem.offsetTop}});initialParentHeight=target.parentElement.offsetHeight;target.classList.add("toggling-target");target.classList.toggle("active");menuItems.forEach(function(menuItem,index){finalPositions[index]={x:menuItem.offsetLeft,y:menuItem.offsetTop}});finalParentHeight=target.parentElement.offsetHeight;target.classList.toggle("active");menu.classList.add("is-toggling");target.classList.toggle("active");menuItems.forEach(function(menuItem,index){var initialPosition=initialPositions[index];if(initialPosition.y===0&&menuItem.parentElement===target){initialPosition.y=initialParentHeight}
menuItem.style.transform="translate("+initialPosition.x+"px, "+initialPosition.y+"px)"});requestAnimationFrame(function(){requestAnimationFrame(function(){menu.classList.add("is-animating");menuItems.forEach(function(menuItem,index){var finalPosition=finalPositions[index];if(finalPosition.y===0&&menuItem.parentElement===target){finalPosition.y=finalParentHeight}
if(duration!==undefined){menuItem.style.transitionDuration=duration+"ms"}
menuItem.style.transform="translate("+finalPosition.x+"px, "+finalPosition.y+"px)"});if(duration!==undefined){target.style.transitionDuration=duration+"ms"}});transitionListener=function(){menu.classList.remove("is-animating");menu.classList.remove("is-toggling");target.classList.remove("toggling-target");menuItems.forEach(function(menuItem){menuItem.style.transform="";menuItem.style.transitionDuration=""});target.style.transitionDuration="";target.removeEventListener("transitionend",transitionListener)};target.addEventListener("transitionend",transitionListener)})}
jQuery(document).ready(function(){const urlParams=new URLSearchParams(window.location.search);const selectedOption=urlParams.get("option");const yourPMS=jQuery(".your-pms");if(selectedOption==="yes"&&!jQuery(".pms-switch[value='yes']").is(":checked")){jQuery(".pms-switch[value='yes']").prop("checked",!0);jQuery(".your-pms").closest(".form-group").addClass("show");yourPMS.val("Booking");yourPMS.trigger("change")}
jQuery(".pms-switch").on("change",function(){if(jQuery(this).val()==="yes"){jQuery(".your-pms").closest(".form-group").addClass("show");if(selectedOption!=="yes"){yourPMS.val("")}}else{jQuery(".your-pms").closest(".form-group").removeClass("show")}})});function chekin2020FindParents(target,query){var parents=[];function traverse(item){var parent=item.parentNode;if(parent instanceof HTMLElement){if(parent.matches(query)){parents.push(parent)}
traverse(parent)}}
traverse(target);return parents}